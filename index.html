<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bangla to English Voice Translator</title>
</head>

<body>
    <h2>üé§ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¨‡¶≤‡ßã ‚Üí ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡¶≠‡ßü‡ßá‡¶∏ ‡¶∂‡ßã‡¶®‡ßã</h2>
    <button onclick="startListening()">üéôÔ∏è ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡ßã</button>
    <p id="banglaText"></p>
    <p id="englishText"></p>

    <script>
        const banglaText = document.getElementById('banglaText');
        const englishText = document.getElementById('englishText');

        function startListening() {
            const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'bn-BD'; // ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ
            recognition.start();

            recognition.onresult = async function (event) {
                const transcript = event.results[0][0].transcript;
                banglaText.innerText = "üìù ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ: " + transcript;

                // ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏‡¶≤‡ßá‡¶∂‡¶®
                const response = await fetch("https://libretranslate.de/translate", {
                    method: "POST",
                    body: JSON.stringify({
                        q: transcript,
                        source: "bn",
                        target: "en",
                        format: "text"
                    }),
                    headers: { "Content-Type": "application/json" }
                });

                const data = await response.json();
                englishText.innerText = "üó£Ô∏è ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø: " + data.translatedText;

                // ‡¶≠‡ßü‡ßá‡¶∏ ‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü
                const utter = new SpeechSynthesisUtterance(data.translatedText);
                utter.lang = "en-US";
                speechSynthesis.speak(utter);
            };

            recognition.onerror = function (err) {
                alert("‚ùå Error: " + err.error);
            };
        }
    </script>
</body>

</html>